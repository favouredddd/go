{"version":3,"sources":["webpack:///./src/assets/file.png","webpack:///./src/components/pluginlist/upload.vue?bf76","webpack:///./src/components/pluginlist/upload/upload1.vue?188e","webpack:///src/components/pluginlist/upload/upload1.vue","webpack:///./src/components/pluginlist/upload/upload1.vue?4575","webpack:///./src/components/pluginlist/upload/upload1.vue?0e03","webpack:///./src/components/pluginlist/upload/upload2.vue?a5c6","webpack:///src/components/pluginlist/upload/upload2.vue","webpack:///./src/components/pluginlist/upload/upload2.vue?8157","webpack:///./src/components/pluginlist/upload/upload2.vue?684b","webpack:///src/components/pluginlist/upload.vue","webpack:///./src/components/pluginlist/upload.vue?5b70","webpack:///./src/components/pluginlist/upload.vue","webpack:///./src/components/pluginlist/upload/upload1.vue?8c53","webpack:///./src/components/pluginlist/upload/upload2.vue?d7ae"],"names":["module","exports","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","name","_m","uploads","staticRenderFns","_l","i","index","attrs","src","on","$event","cancle","domProps","value","deal","style","height","upload","staticStyle","config","params","data","opacity","width","init","fileDefault","imgs","methods","undefined","me","splice","length","progress","window","innerWidth","per","type","url","callback","alert","files","target","regExp","test","tem","push","file","$set","Promise","all","addFile","fileReader","onload","e","result","re","readAsDataURL","component","components"],"mappings":"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","file":"js/chunk-5dff1536.1491e930.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAk1BMVEUAAAARltsQl9sSltoSldsRltoAmPsA/P8RldsRltsPldwRltsSldoNmuAAmOERldsRltsOlt0Qld8RltwRldsRltsRltsRltsQltsRltsRlt0Plt4Nld0Llt0RltsRltsRltsRldsRltsRldwQltwNlt0RltsQldwSltsRltsQldsRltsRltwSldoPltwQldwSltsNcT66AAAAMHRSTlMAwECsgFoFAVjrR9T0EgqymDMPh+Tgx5NvYi0gGxb48trLnnRNJo1UuKZ7aDq6RD1/CeEdAAADN0lEQVR42u3d227iMBSF4U1JgZAQIJxaDuUMbaHtev+nmxmNhBNpNA2Ji7fR+q5782s7wS6SESIiIiIiIiIiIlIoeexGwxjlxVF3sBPX5r0YNoSP4lISvMCWbkec6Q9h0Wgmjhxh13AuTjzBtkiK0D6PP97l9h7wA+KF3FpjiJ/Qk+9pf0D+msltNUL8jLrc1jOyDruZVLBFxiAo5f35YSYldGGEU6moCyviTV+ulGR2JsupVDWFLeOdXKUNoyXVbeBiy5Z/Z63EghnsGfaluAAXgdgwgT3xTgrr4eJZbOjEsKh4SR0Xj2JFAJv67kKSJSxaNa4PaYkdW9h0KDERnZueqbOJ5Hc9veBa9fzarLkLkRWMiVwtnSCrfeulZRyrbufbyOi6m4isYWykhEdkzJ1NRD6RsZcS3mBs3U1EarmlUcIixsXY3USkn/90LmEAI3EXInUY41IjgfHlMGSPjHbFF8azu5D8CSuquLYGLkPmLzBa1fYHbw7eWsYBxqrah2LN5UTyJ6yTxyESwAgbHockIYytxyHyBGOZehyS+z//wOOQ3AnrZeFxSDN3wvI4RI6oQFOIrO8l5HwvIfJxLyF9WLBK3IdIHRaMU1e7X2MPG6KF84nIxk5Jx3lIGsKGdcPR0jLOMWzoOQ+R/SSCBUfnIeWk5x5ywkXhZ0Sb+Suyet6GiLwjdxLwcmn9o2Tg70Ty39uHTY9DcieBT3+XlsgURuBzSPY7nw+vQx5wMfI6JIXh88MuTRgNhijAEG0Yog1DtGGINgzRhiHaMEQbhmjDEG0Yog1DtGGINgzRhiHaMEQbhmjDEG0Yog1DtGGINgzRhiHaMEQbhmjDEG0Yog1DtGGINgzRhiHaMEQbhmjDEHVgFLqB+SQ6dXCxLHSb10F0Ohe6le+Ei5HoNCl000sb2h+SOYxNsZv8w44o9AqjVfDvor1ok9aRkRb++ZHBXDRJTmHhy5A6S+SManpEV12Hv4Uvxt/e3eeJqfzfF/xwkN/uYHHVmkVuVdBv1JHvNXvQbt2RQp6gW7chBU3H0GvUkiu0IugUBolcZ/b0OoIu4TjoSzn7Bz36qRAREREREREREZFSvwAw7wSivT7dAAAAAABJRU5ErkJggg==\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"plugin-type el-plugin-type\"},[_c('div',{staticClass:\"plugin-name\"},[_vm._v(_vm._s(_vm.name)+\"插件\")]),_c('div',{staticClass:\"plugin-item\"},[_c('div',{staticClass:\"plugin-content el-plugin-20001\"},[_c('div',{staticClass:\"content\"},[_c('upload1')],1)])]),_vm._m(0),_c('div',{staticClass:\"plugin-name\"},[_vm._v(_vm._s(_vm.uploads)+\"插件\")]),_c('div',{staticClass:\"plugin-item\"},[_c('div',{staticClass:\"plugin-content el-plugin-20003\"},[_c('div',{staticClass:\"content\"},[_c('upload2')],1)]),_vm._m(1)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"plugin-explain\"},[_c('p',[_vm._v(\"插件说明:\")]),_c('p',{staticClass:\"explain\"},[_vm._v(\"这是一款上传图片与小文件的插件。\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"plugin-explain\"},[_c('p',[_vm._v(\"插件说明:\")]),_c('p',{staticClass:\"explain\"},[_vm._v(\"这是一款大文件分片上传的插件\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapc\"},[_vm._l((_vm.imgs),function(i,index){return _c('div',{staticClass:\"imgs\"},[_c('img',{attrs:{\"src\":i.src,\"alt\":\"\"}}),_c('div',{staticClass:\"cancle\",attrs:{\"index\":index},on:{\"click\":function($event){return _vm.cancle(index)}}})])}),_c('div',{staticClass:\"select\"},[_c('input',{staticClass:\"file\",attrs:{\"type\":\"file\",\"multiple\":\"\"},domProps:{\"value\":_vm.value},on:{\"change\":_vm.deal}}),_c('div',{staticClass:\"mask\",style:({'line-height':_vm.height+'px'})},[_vm._v(\"+\")])]),_c('div',{staticClass:\"ensure\"},[_c('div',{staticClass:\"upload\",on:{\"click\":_vm.upload}},[_vm._v(\"上传\")])]),_c('div',{staticStyle:{\"position\":\"fixed\",\"top\":\"0px\",\"left\":\"0px\",\"background\":\"linear-gradient(bottom right, #0ab9da , #0a89da)\",\"height\":\"2px\"},attrs:{\"id\":\"upload\"}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"wrapc\">\n    <div class=\"imgs\" v-for=\"(i,index) in imgs\">\n      <img :src=\"i.src\" alt=\"\">\n      <div class=\"cancle\" @click=\"cancle(index)\" :index=\"index\">\n      </div>\n    </div>\n    <div class=\"select\">\n      <input type=\"file\" class=\"file\" multiple :value=\"value\" @change=\"deal\">\n      <div class=\"mask\" :style=\"{'line-height':height+'px'}\">+</div>\n    </div>\n    <div class=\"ensure\">\n      <div class=\"upload\" @click=\"upload\">上传</div>\n    </div>\n    <div id=\"upload\" style=\"position:fixed;top:0px;left:0px;\n    background: linear-gradient(bottom right, #0ab9da , #0a89da);height:2px;\">\n    </div>\n  </div>\n</template>\n<script>\nclass Ajax {\n  constructor() {\n    let me = this\n  }\n  static init(config) {\n    let me = this\n    config.type = config.type === undefined ? 'get' : config.type\n    switch (config.type) {\n      case 'get':\n        me.getRequest(config)\n        break\n      case 'post':\n        me.postRequest(config)\n        break\n    }\n  }\n  static getRequest(config) {\n    let params = config.params || {}\n    let url = Object.keys(config.params)\n      .map(i => {\n        return i + '=' + config.params[i]\n      })\n      .join('&')\n    if (config.url.endWith('?')) {\n      url = config.url + url\n    } else {\n      url = config.url + '?' + url\n    }\n    let xml = new XMLHttpRequest()\n    xml.onload = () => {\n      if (xml.status === 200) {\n        config.callback(xml.responseText)\n      }\n    }\n    xml.open('get', url)\n    xml.send(null)\n  }\n  static postRequest(config) {\n    let file = new FormData()\n    let xml = new XMLHttpRequest()\n    let progress = config.progress || function(e) {}\n    xml.onload = () => {\n      if (xml.status === 200) {\n        config.callback(xml.responseText)\n      }\n    }\n    xml.upload.onprogress = progress\n    if (config.params.constructor === Array) {\n      config.params.forEach((i, index) => {\n        file.append('file' + index, i.file)\n      })\n    } else {\n      Object.keys(config.params).forEach(i => {\n        file.append(i, config.params[i])\n      })\n    }\n    xml.open('post', config.url)\n    xml.send(file)\n  }\n  static postAll(config) {\n    let me = this\n    let arr = []\n    let result = []\n    let index = 0\n    let map = config.params.map(i => {\n      return () => {\n        return me.postFile(config, i.file)\n      }\n    })\n    let next = function() {\n      if (!map.length) {\n        config.callback()\n        return\n      }\n      let f = map.shift()\n      f().then(r => {\n        next()\n      })\n    }\n    next()\n  }\n  static postFile(config, file) {\n    let me = this\n    let url = config.url\n    let Size = 1024 * 1024 * 2\n    let slice = Math.ceil(file.size / Size)\n    let start = 0\n    let index = 0\n    let record = 0\n    let arr = []\n    let date = new Date().getTime()\n    while (index < slice) {\n      let end = (index + 1) * Size\n      if (end > file.size) end = file.size\n      arr.push(me.slice(config, date, file, index, start, end, url, slice, Size, file.size))\n      index += 1\n      start = end\n    }\n    return new Promise((re, rj) => {\n      me.control(arr, re)\n    })\n  }\n  static control(arr, cb) {\n    let total = 6\n    let me = this\n    let len = arr.length\n    let data = arr.slice(0, 6)\n    let result = []\n    let start = 6\n    let count = 0\n    arr = arr.slice(6)\n    let next = function() {\n      if (total < 6 && arr.length) {\n        var item = arr.shift()\n        total += 1\n        item.$index = start\n        start += 1\n        item().then(r => {\n          total -= 1\n          result[item.$index] = r\n          count += 1\n          next()\n        })\n      }\n      if (len === count) {\n        cb()\n      }\n    }\n    for (let i = 0; i < data.length; i += 1) {\n      data[i]().then(r => {\n        total -= 1\n        result[i] = r\n        count += 1\n        data.splice(i--, 1)\n        next()\n      })\n    }\n  }\n  static slice(config, date, blob, index, start, end, url, all, Size, total) {\n    let time = config.time || 6000000\n    let timeF = config.timeout || function() {}\n    return () => {\n      return new Promise((re, rj) => {\n        let xml = new XMLHttpRequest()\n        let chunk = blob.slice(start, end)\n        let data = new FormData()\n        data.append('file', chunk, blob.name)\n        data.append('name', blob.name)\n        data.append('all', all)\n        data.append('index', index)\n        data.append('date', date)\n        data.append('size', Size)\n        data.append('fileSize', total)\n        xml.open('POST', url)\n        xml.onload = function() {\n          re(true)\n        }\n        xml.timeout = time\n        xml.ontimeout = timeF\n        xml.send(data)\n      })\n    }\n  }\n}\nexport default {\n  name: \"uplaodImage1\",\n  data() {\n    return {\n      opacity: 1,\n      width: 0,\n      height: 100,\n      value: '',\n      init: false,\n      fileDefault: require('../../../assets/file.png'),\n      imgs: []\n    }\n  },\n  methods: {\n    cancle(index) {\n      let me = this\n      if (index === undefined) return\n      me.imgs.splice(index, 1)\n      me.value = ''\n    },\n    upload() {\n      let me = this;\n      if (!me.imgs.length) return\n      Ajax.init({\n        progress: function(e) {\n          let per = e.loaded / e.total\n          me.width = window.innerWidth * per\n          me.opacity = 1\n        },\n        type: 'post',\n        params: me.imgs,\n        url: 'https://nodom.store/api/getload',\n        callback() {\n          alert(\"success\");\n        }\n      })\n    },\n    deal(files) {\n      files = files.target.files;\n      let me = this\n      let tem = []\n      let regExp = /\\.(gif|jpg|jpeg|png|gif|jpg|png)$/im\n      for (let i = 0; i < files.length; i += 1) {\n        if (regExp.test(files[i].name)) {\n          tem.push(files[i])\n        } else {\n          me.imgs.push({\n            src: me.fileDefault,\n            type: 'file',\n            file: files[i]\n          })\n        }\n        me.$set(me, 'imgs', me.imgs);\n      }\n      Promise.all(\n        tem.map(i => {\n          return me.addFile(i)\n        })\n      ).then(r => {\n        me.$set(me, 'imgs', me.imgs);\n        me.value = ''\n      })\n    },\n    addFile(file) {\n      return new Promise((re, rj) => {\n        let me = this\n        let fileReader = new FileReader()\n        fileReader.onload = e => {\n          me.imgs.push({\n            src: e.target.result,\n            type: 'img',\n            file: file\n          })\n          re()\n        }\n        fileReader.readAsDataURL(file)\n      })\n    }\n  }\n}\n\n</script>\n<style>\n* {\n  margin: 0;\n  padding: 0;\n}\n\n.content {\n  width: 600px;\n  height: 250px;\n  margin: 0px auto;\n}\n\n.content .wrapc {\n  width: 100%;\n  height: 100%;\n}\n\n.content .wrapc .imgs {\n  width: 100px;\n  height: 100px;\n  font-size: 0;\n  position: relative;\n  float: left;\n  cursor: crosshair;\n}\n\n.content .wrapc .imgs img {\n  width: 100%;\n  height: 100%;\n}\n\n.content .wrapc .imgs .cancle {\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  top: 0px;\n  right: 0px;\n  background: url('../../../assets/cancel.png') center center no-repeat;\n  background-size: cover;\n}\n\n.content .wrapc .select {\n  width: 100px;\n  height: 100px;\n  position: relative;\n  display: block;\n  border: 1px dashed #008000;\n  float: left;\n}\n\n.content .wrapc .select .file {\n  left: 0;\n  position: absolute;\n  z-index: 1000;\n  opacity: 0;\n  display: block;\n  width: 100px;\n  height: 100px;\n}\n\n.content .wrapc .select .mask {\n  text-align: center;\n  width: 100px;\n  height: 100px;\n  color: green;\n  font-size: 100px;\n  z-index: 999;\n}\n\n.content .wrapc .ensure {\n  display: flex;\n  align-items: flex-end;\n  float: left;\n  width: 100px;\n  height: 100px;\n  color: #fff;\n  cursor: pointer;\n}\n\n.content .wrapc .transition {\n  transition: width .5s;\n}\n\n.content .wrapc .ensure .upload {\n  width: 80px;\n  margin: 0 auto;\n  text-align: center;\n  background-color: #03a9f4;\n}\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload1.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload1.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./upload1.vue?vue&type=template&id=69d573d8&\"\nimport script from \"./upload1.vue?vue&type=script&lang=js&\"\nexport * from \"./upload1.vue?vue&type=script&lang=js&\"\nimport style0 from \"./upload1.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wrapc\"},[_vm._l((_vm.imgs),function(i,index){return _c('div',{staticClass:\"imgs\"},[_c('img',{attrs:{\"src\":i.src,\"alt\":\"\"}}),_c('div',{staticClass:\"cancle\",attrs:{\"index\":index},on:{\"click\":function($event){return _vm.cancle(index)}}})])}),_c('div',{staticClass:\"select\"},[_c('input',{staticClass:\"file\",attrs:{\"type\":\"file\",\"multiple\":\"\"},domProps:{\"value\":_vm.value},on:{\"change\":_vm.deal}}),_c('div',{staticClass:\"mask\",style:({'line-height':_vm.height+'px'})},[_vm._v(\"+\")])]),_c('div',{staticClass:\"ensure\"},[_c('div',{staticClass:\"upload\",on:{\"click\":_vm.upload}},[_vm._v(\"上传\")])]),_c('div',{staticStyle:{\"position\":\"fixed\",\"top\":\"0px\",\"left\":\"0px\",\"background\":\"linear-gradient(bottom right, #0ab9da , #0a89da)\",\"height\":\"2px\"},attrs:{\"id\":\"upload\"}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"wrapc\">\n    <div class=\"imgs\" v-for=\"(i,index) in imgs\">\n      <img :src=\"i.src\" alt=\"\">\n      <div class=\"cancle\" @click=\"cancle(index)\" :index=\"index\">\n      </div>\n    </div>\n    <div class=\"select\">\n      <input type=\"file\" class=\"file\" multiple :value=\"value\" @change=\"deal\">\n      <div class=\"mask\" :style=\"{'line-height':height+'px'}\">+</div>\n    </div>\n    <div class=\"ensure\">\n      <div class=\"upload\" @click=\"upload\">上传</div>\n    </div>\n    <div id=\"upload\" style=\"position:fixed;top:0px;left:0px;\n    background: linear-gradient(bottom right, #0ab9da , #0a89da);height:2px;\">\n    </div>\n  </div>\n</template>\n<script>\nconst api=`http://localhost:8888`;\nclass Ajax {\n  constructor() {\n    let me = this\n  }\n  static init(config) {\n    let me = this\n    config.type = config.type === undefined ? 'get' : config.type\n    switch (config.type) {\n      case 'get':\n        me.getRequest(config)\n        break\n      case 'post':\n        me.postRequest(config)\n        break\n    }\n  }\n  static getRequest(config) {\n    let params = config.params || {}\n    let url = Object.keys(config.params)\n      .map(i => {\n        return i + '=' + config.params[i]\n      })\n      .join('&')\n    if (config.url.endWith('?')) {\n      url = config.url + url\n    } else {\n      url = config.url + '?' + url\n    }\n    let xml = new XMLHttpRequest()\n    xml.onload = () => {\n      if (xml.status === 200) {\n        config.callback(xml.responseText)\n      }\n    }\n    xml.open('get', url)\n    xml.send(null)\n  }\n  static postRequest(config) {\n    let file = new FormData()\n    let xml = new XMLHttpRequest()\n    let progress = config.progress || function(e) {}\n    xml.onload = () => {\n      if (xml.status === 200) {\n        config.callback(xml.responseText)\n      }\n    }\n    xml.upload.onprogress = progress\n    if (config.params.constructor === Array) {\n      config.params.forEach((i, index) => {\n        file.append('file' + index, i.file)\n      })\n    } else {\n      Object.keys(config.params).forEach(i => {\n        file.append(i, config.params[i])\n      })\n    }\n    xml.open('post', config.url)\n    xml.send(file)\n  }\n  static postAll(config) {\n    let me = this\n    let arr = []\n    let result = []\n    let index = 0\n    let map = config.params.map(i => {\n      return () => {\n        return me.postFile(config, i.file)\n      }\n    })\n    let next = function() {\n      if (!map.length) {\n        config.callback()\n        return\n      }\n      let f = map.shift()\n      f().then(r => {\n        next()\n      })\n    }\n    next()\n  }\n  static postFile(config, file) {\n    let me = this\n    let url = config.url\n    let Size = 1024 * 1024 * 2\n    let slice = Math.ceil(file.size / Size)\n    let start = 0\n    let index = 0\n    let record = 0\n    let arr = []\n    let date = new Date().getTime()\n    while (index < slice) {\n      let end = (index + 1) * Size\n      if (end > file.size) end = file.size\n      arr.push(me.slice(config, date, file, index, start, end, url, slice, Size, file.size))\n      index += 1\n      start = end\n    }\n    return new Promise((re, rj) => {\n      me.control(arr, re)\n    })\n  }\n  static control(arr, cb) {\n    let total = 6\n    let me = this\n    let len = arr.length\n    let data = arr.slice(0, 6)\n    let result = []\n    let start = 6\n    let count = 0\n    arr = arr.slice(6)\n    let next = function() {\n      if (total < 6 && arr.length) {\n        var item = arr.shift()\n        total += 1\n        item.$index = start\n        start += 1\n        item().then(r => {\n          total -= 1\n          result[item.$index] = r\n          count += 1\n          next()\n        })\n      }\n      if (len === count) {\n        cb()\n      }\n    }\n    for (let i = 0; i < data.length; i += 1) {\n      data[i]().then(r => {\n        total -= 1\n        result[i] = r\n        count += 1\n        data.splice(i--, 1)\n        next()\n      })\n    }\n  }\n  static slice(config, date, blob, index, start, end, url, all, Size, total) {\n    let time = config.time || 6000000\n    let timeF = config.timeout || function() {}\n    return () => {\n      return new Promise((re, rj) => {\n        let xml = new XMLHttpRequest()\n        let chunk = blob.slice(start, end)\n        let data = new FormData()\n        data.append('file', chunk, blob.name)\n        data.append('name', blob.name)\n        data.append('all', all)\n        data.append('index', index)\n        data.append('date', date)\n        data.append('size', Size)\n        data.append('fileSize', total)\n        xml.open('POST', url)\n        xml.onload = function() {\n          re(true)\n        }\n        xml.timeout = time\n        xml.ontimeout = timeF\n        xml.send(data)\n      })\n    }\n  }\n}\nexport default {\n  name: \"uplaodImage2\",\n  data() {\n    return {\n      opacity: 1,\n      width: 0,\n      height: 100,\n      value: '',\n      init: false,\n      fileDefault: require('../../../assets/file.png'),\n      imgs: []\n    }\n  },\n  methods: {\n    cancle(index) {\n      let me = this\n      if (index === undefined) return\n      me.imgs.splice(index, 1)\n      me.value = ''\n    },\n    upload() {\n      let me = this;\n      if (!me.imgs.length) return\n      Ajax.postAll({\n            progress: function(e) {},\n            type: 'post',\n            params: me.imgs,\n            url: `${api}/api/getChipe`,\n            callback() {\n              alert(111)\n            }\n          })\n    },\n    deal(files) {\n      files = files.target.files;\n      let me = this\n      let tem = []\n      let regExp = /\\.(gif|jpg|jpeg|png|gif|jpg|png)$/im\n      for (let i = 0; i < files.length; i += 1) {\n        if (regExp.test(files[i].name)) {\n          tem.push(files[i])\n        } else {\n          me.imgs.push({\n            src: me.fileDefault,\n            type: 'file',\n            file: files[i]\n          })\n        }\n        me.$set(me, 'imgs', me.imgs);\n      }\n      Promise.all(\n        tem.map(i => {\n          return me.addFile(i)\n        })\n      ).then(r => {\n        me.$set(me, 'imgs', me.imgs);\n        me.value = ''\n      })\n    },\n    addFile(file) {\n      return new Promise((re, rj) => {\n        let me = this\n        let fileReader = new FileReader()\n        fileReader.onload = e => {\n          me.imgs.push({\n            src: e.target.result,\n            type: 'img',\n            file: file\n          })\n          re()\n        }\n        fileReader.readAsDataURL(file)\n      })\n    }\n  }\n}\n\n</script>\n<style>\n* {\n  margin: 0;\n  padding: 0;\n}\n\n.content {\n  width: 600px;\n  height: 250px;\n  margin: 0px auto;\n}\n\n.content .wrapc {\n  width: 100%;\n  height: 100%;\n}\n\n.content .wrapc .imgs {\n  width: 100px;\n  height: 100px;\n  font-size: 0;\n  position: relative;\n  float: left;\n  cursor: crosshair;\n}\n\n.content .wrapc .imgs img {\n  width: 100%;\n  height: 100%;\n}\n\n.content .wrapc .imgs .cancle {\n  position: absolute;\n  width: 20px;\n  height: 20px;\n  top: 0px;\n  right: 0px;\n  background: url('../../../assets/cancel.png') center center no-repeat;\n  background-size: cover;\n}\n\n.content .wrapc .select {\n  width: 100px;\n  height: 100px;\n  position: relative;\n  display: block;\n  border: 1px dashed #008000;\n  float: left;\n}\n\n.content .wrapc .select .file {\n  left: 0;\n  position: absolute;\n  z-index: 1000;\n  opacity: 0;\n  display: block;\n  width: 100px;\n  height: 100px;\n}\n\n.content .wrapc .select .mask {\n  text-align: center;\n  width: 100px;\n  height: 100px;\n  color: green;\n  font-size: 100px;\n  z-index: 999;\n}\n\n.content .wrapc .ensure {\n  display: flex;\n  align-items: flex-end;\n  float: left;\n  width: 100px;\n  height: 100px;\n  color: #fff;\n  cursor: pointer;\n}\n\n.content .wrapc .transition {\n  transition: width .5s;\n}\n\n.content .wrapc .ensure .upload {\n  width: 80px;\n  margin: 0 auto;\n  text-align: center;\n  background-color: #03a9f4;\n}\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload2.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload2.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./upload2.vue?vue&type=template&id=8cf06bcc&\"\nimport script from \"./upload2.vue?vue&type=script&lang=js&\"\nexport * from \"./upload2.vue?vue&type=script&lang=js&\"\nimport style0 from \"./upload2.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n<div class=\"plugin-type el-plugin-type\">\n    <div class=\"plugin-name\">{{name}}插件</div>\n    <div class='plugin-item'>\n        <div class=\"plugin-content el-plugin-20001\">\n           <div class=\"content\">\n            <upload1/>\n            </div>\n        </div>\n        </div>\n        <div class='plugin-explain'>\n            <p>插件说明:</p>\n            <p class='explain'>这是一款上传图片与小文件的插件。</p>\n        </div>\n    <div class=\"plugin-name\">{{uploads}}插件</div>\n    <div class='plugin-item'>\n        <div class=\"plugin-content el-plugin-20003\">\n           <div class=\"content\">\n            <upload2/>\n        </div>\n        </div>\n        <div class='plugin-explain'>\n            <p>插件说明:</p>\n            <p class='explain'>这是一款大文件分片上传的插件</p>\n        </div>\n    </div>\n</div>\n</template>\n<script>\nimport upload1 from '@/components/pluginlist/upload/upload1.vue'\nimport upload2 from '@/components/pluginlist/upload/upload2.vue'\nexport default {\n  name: \"upload\",\n data() {\n \treturn{name:\"文件上传\",uploads:''}\n  },\n  components:{\n  \tupload1,\n  \t \tupload2\n  }\n}\n</script>\n<style>\n\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./upload.vue?vue&type=template&id=1adb9727&\"\nimport script from \"./upload.vue?vue&type=script&lang=js&\"\nexport * from \"./upload.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload1.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload1.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload2.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload2.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}