(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0d3ea599"],{"5fee":function(e,t,n){"use strict";var s=n("ecf0"),a=n.n(s);a.a},b81b:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content"},[n("div",{staticClass:"header"},[e._v("tap指令")]),n("div",{staticClass:"introduce"},[e._v(e._s(e.describe))]),n("div",{staticClass:"eventTitle"},[e._v("tap事件区域")]),n("div",{directives:[{name:"tap",rawName:"v-tap",value:e.event,expression:"event"}],staticClass:"swipeWrap"}),n("div",{staticClass:"code"},[n("div",[n("div",{staticClass:"title"},[e._v("html代码")]),n("code",{directives:[{name:"helight",rawName:"v-helight",value:e.code,expression:"code"}],staticClass:"hljs javascript"},[e._v(e._s(e.code))]),n("div",{staticClass:"jsTitle"},[e._v("js代码")]),n("code",{directives:[{name:"helight",rawName:"v-helight",value:e.jsCode,expression:"jsCode"}],staticClass:"hljs javascript"},[e._v(e._s(e.jsCode))]),n("div",{staticClass:"jsTitle",staticStyle:{position:"relative"}},[e._v("源码\n        "),n("div",{staticClass:"copy",on:{click:e.copy}},[e._v("一键复制")])]),n("code",{ref:"textArea",staticClass:"codeArea",attrs:{autoHeight:"true"},domProps:{innerHTML:e._s(e.originCode)}})])])])},a=[],i={data:function(){return{describe:"这是一款简单tap指令,使用在移动端,相对于click事件,由于事件穿透,在点击的200ms之内触发",event:this.tapEvent("tap"),code:'\n      <div class="swipeWrap"\n          v-tap="event">\n      </div>',jsCode:"\n      event:this.tapEvent",originCode:"class Tap {\n  constructor (el, event, vnode) {\n    const me = this\n    el.event = event\n    me.$model = vnode.context\n    me.addEvent(el)\n  }\n  addEvent (el) {\n    let eventName = ['touchstart', 'touchmove', 'touchend']\n    let touchEvent=eventName.map(i => {\n      el.addEventListener(i, this[i], false)\n      return [i,this[i]]\n    });\n    el.$tapEvent = touchEvent\n  }\n  touchstart (e) {\n    let tch = e.touches[0]\n    let evtObj = this\n    evtObj.extParams = {\n      pos: { sx: tch.pageX, sy: tch.pageY, t: Date.now(), move: false }\n    }\n  }\n  touchmove (e) {\n    let evtObj = this\n    let pos = evtObj.extParams.pos\n    let tch = e.touches[0]\n    let dx = tch.pageX - pos.sx\n    let dy = tch.pageY - pos.sy\n    // 判断是否移动\n    if (Math.abs(dx) > 5 || Math.abs(dy) > 5) {\n      pos.move = true\n    }\n  }\n  touchend (e) {\n    let evtObj = this\n    let pos = evtObj.extParams.pos\n    let dt = Date.now() - pos.t\n    // 点下时间不超过200ms\n    if (pos.move === true || dt > 200) {\n      return\n    }\n    evtObj.event.call(evtObj.$model)\n    evtObj.extParams = null\n  }\n}\nconst tapDirect={\n  bind (el, binding, vnode) {\n    el.$tap = new Tap(el, binding.value, vnode)\n  },\n  unbind (el, binding) {\n    console.log(el.$tap)\n    el.$tapEvent.forEach(function (event) {\n      el.removeEventListener(event[0], event[1])\n    }, this)\n    el.$tap = null\n  }\n}\nexport default tapDirect\n"}},mounted:function(){var e=this;this.$nextTick((function(){e.$refs.textArea.style.height=e.$refs.textArea.scrollHeight+"px"}))},methods:{copy:function(){document.execCommand("copy",!1,this.$refs.textArea.select())},tapEvent:function(e){return function(){alert(e)}}}},o=i,c=(n("5fee"),n("2877")),l=Object(c["a"])(o,s,a,!1,null,null,null);t["default"]=l.exports},ecf0:function(e,t,n){}}]);
//# sourceMappingURL=chunk-0d3ea599.b9aa5f0d.js.map